import{e as ne}from"./chunk-VE7GAG7N.js";import{C as fe,D as M,J as p,Pa as ie,S as C,T as ae,jc as P}from"./chunk-UKIO5DAW.js";import{$ as te,B as N,D as b,E as R,Ea as E,M as z,R as Y,S as X,T as V,U as j,Ua as se,V as ee,ba as v,e as q,la as T,pa as re,v as G,w as D}from"./chunk-MS5TNNAU.js";import{d as H,v as _,z as Z}from"./chunk-WN3YRVO4.js";import{Ha as x,Ka as B,Oa as y,e as O,ob as J,pa as L,xb as Q}from"./chunk-FSPAMUWJ.js";import{c as U,f as k,h as ve,j as m}from"./chunk-NZGOIL2E.js";var ue=k(($,K)=>{m();(function(n,i){"use strict";if(typeof U=="function"&&typeof $=="object"&&typeof K=="object")K.exports=i();else if(typeof define=="function"&&define.amd)define("json-schema-defaults",[],function(){return i()});else{var e=n.jsonSchemaDefaults;n.jsonSchemaDefaults=i(),n.jsonSchemaDefaults.noConflict=function(){var t=n.jsonSchemaDefaults;return n.jsonSchemaDefaults=e,t}}})($,function(){"use strict";var n=function(f){return typeof f=="object"&&f!==null&&f.toString()==={}.toString()},i=function(f){return JSON.parse(JSON.stringify(f))},e=function(f,s){f=i(f);for(var o in s)s.hasOwnProperty(o)&&(n(f[o])&&n(s[o])?f[o]=e(f[o],s[o]):f[o]=s[o]);return f},t=function(f,s){f=f.replace(/^#\/definitions\//,"").split("/");var o=function(c,u){var h=c.shift();return u[h]?c.length?o(c,u[h]):u[h]:{}},d=o(f,s);return n(d)?i(d):d},r=function(f,s){for(var o=f.length,d=-1,c={};++d<o;){var u=f[d];u=typeof u.$ref<"u"?t(u.$ref,s):u,c=e(c,u)}return c},a=function(f,s){if(typeof f.default<"u")return f.default;if(typeof f.allOf<"u"){var o=r(f.allOf,s);return a(o,s)}else if(typeof f.$ref<"u"){var d=t(f.$ref,s);return a(d,s)}else if(f.type==="object"){if(!f.properties)return{};for(var c in f.properties)f.properties.hasOwnProperty(c)&&(f.properties[c]=a(f.properties[c],s),typeof f.properties[c]>"u"&&delete f.properties[c]);return f.properties}else if(f.type==="array"){if(!f.items)return[];var u=f.minItems||0;if(f.items.constructor===Array){for(var h=f.items.map(function(be){return a(be,s)}),g=h.length-1;g>=0&&!(typeof h[g]<"u");g--)g+1>u&&h.pop();return h}var W=a(f.items,s);if(typeof W>"u")return[];for(var h=[],g=0;g<Math.max(1,u);g++)h.push(i(W));return h}};return function(f,s){return typeof s>"u"?s=f.definitions||{}:n(f.definitions)&&(s=e(s,f.definitions)),a(i(f),s)}})});var ce=k((Ue,de)=>{m();de.exports=ue()});m();m();var F=new B("WindowToken"),S=class{get nativeWindow(){throw new Error("Not implemented.")}},Ae=(()=>{class n extends S{constructor(){super()}get nativeWindow(){return window}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();function we(n,i){return Z(i)?n.nativeWindow:new Object}var xe={provide:S,useClass:Ae},Ee={provide:F,useFactory:we,deps:[S,Q]},Te=[xe,Ee];m();var oe={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"}},w=new Array,le=["blue","green","red","amber","blue-grey","purple","light-green","indigo","pink","yellow","light-blue","orange","deep-purple","lime","teal","brown","cyan","deep-orange","grey"],I=["500","A700","600","700","800","900","300","400","A200","A400"];for(let n of Object.keys(oe)){let i=oe[n];for(let e of Object.keys(i))if(I.indexOf(e)>-1){let t=i[e],r=se(t),a=r.isDark(),f={value:r.toHexString(),group:n,label:e,isDark:a};w.push(f)}}w.sort((n,i)=>{let e=I.indexOf(n.label),t=I.indexOf(i.label),r=e-t;if(r===0){let a=le.indexOf(n.group),f=le.indexOf(i.group);r=a-f}return r});var he=ve(ce());m();var l=function(){this.cssImportStatements=[],this.cssKeyframeStatements=[],this.cssRegex=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","gi"),this.cssMediaQueryRegex="((@media [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.cssKeyframeRegex="((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.combinedCSSRegex="((\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",this.cssCommentsRegex="(\\/\\*[\\s\\S]*?\\*\\/)",this.cssImportStatementRegex=new RegExp("@import .*?;","gi")};l.prototype.stripComments=function(n){var i=new RegExp(this.cssCommentsRegex,"gi");return n.replace(i,"")};l.prototype.parseCSS=function(n){if(n===void 0)return[];for(var i=[];;){var e=this.cssImportStatementRegex.exec(n);if(e!==null)this.cssImportStatements.push(e[0]),i.push({selector:"@imports",type:"imports",styles:e[0]});else break}n=n.replace(this.cssImportStatementRegex,"");for(var t=new RegExp(this.cssKeyframeRegex,"gi"),r;r=t.exec(n),r!==null;)i.push({selector:"@keyframes",type:"keyframes",styles:r[0]});n=n.replace(t,"");for(var a=new RegExp(this.combinedCSSRegex,"gi");r=a.exec(n),r!==null;){var f="";r[2]===void 0?f=r[5].split(`\r
`).join(`
`).trim():f=r[2].split(`\r
`).join(`
`).trim();var s=new RegExp(this.cssCommentsRegex,"gi"),o=s.exec(f);if(o!==null&&(f=f.replace(s,"").trim()),f.indexOf("@media")!==-1){var d={selector:f,type:"media",subStyles:this.parseCSS(r[3]+`
}`)};o!==null&&(d.comments=o[0]),i.push(d)}else{var c=this.parseRules(r[6]),u={selector:f,rules:c};f==="@font-face"&&(u.type="font-face"),o!==null&&(u.comments=o[0]),i.push(u)}}return i};l.prototype.parseRules=function(n){n=n.split(`\r
`).join(`
`);var i=[];n=n.split(/;(?![^\(]*\))/);for(var e=0;e<n.length;e++){var t=n[e];if(t=t.trim(),t.indexOf(":")!==-1){t=t.split(":");var r=t[0].trim(),a=t.slice(1).join(":").trim();if(r.length<1||a.length<1)continue;i.push({directive:r,value:a})}else t.trim().substr(0,7)=="base64,"?i[i.length-1].value+=t.trim():t.length>0&&i.push({directive:"",value:t,defective:!0})}return i};l.prototype.findCorrespondingRule=function(n,i,e){e===void 0&&(e=!1);for(var t=!1,r=0;r<n.length&&!(n[r].directive==i&&(t=n[r],e===n[r].value));r++);return t};l.prototype.findBySelector=function(n,i,e){e===void 0&&(e=!1);for(var t=[],r=0;r<n.length;r++)e===!1?n[r].selector===i&&t.push(n[r]):n[r].selector.indexOf(i)!==-1&&t.push(n[r]);if(t.length<2)return t;var a=t[0];for(r=1;r<t.length;r++)this.intelligentCSSPush([a],t[r]);return[a]};l.prototype.deleteBySelector=function(n,i){for(var e=[],t=0;t<n.length;t++)n[t].selector!==i&&e.push(n[t]);return e};l.prototype.compressCSS=function(n){for(var i=[],e={},t=0;t<n.length;t++){var r=n[t];if(e[r.selector]!==!0){var a=this.findBySelector(n,r.selector);a.length!==0&&(i.push(a[0]),e[r.selector]=!0)}}return i};l.prototype.cssDiff=function(n,i){if(n.selector!==i.selector||n.type==="media"||i.type==="media")return!1;for(var e={selector:n.selector,rules:[]},t,r,a=0;a<n.rules.length;a++)t=n.rules[a],r=this.findCorrespondingRule(i.rules,t.directive,t.value),(r===!1||t.value!==r.value)&&e.rules.push(t);for(var f=0;f<i.rules.length;f++)r=i.rules[f],t=this.findCorrespondingRule(n.rules,r.directive),t===!1&&(r.type="DELETED",e.rules.push(r));return e.rules.length===0?!1:e};l.prototype.intelligentMerge=function(n,i,e){e===void 0&&(e=!1);for(var t=0;t<i.length;t++)this.intelligentCSSPush(n,i[t],e);for(t=0;t<n.length;t++){var r=n[t];r.type==="media"||r.type==="keyframes"||(r.rules=this.compactRules(r.rules))}};l.prototype.intelligentCSSPush=function(n,i,e){var t=i.selector,r=!1;if(e===void 0&&(e=!1),e===!1){for(var a=0;a<n.length;a++)if(n[a].selector===i.selector){r=n[a];break}}else for(var f=n.length-1;f>-1;f--)if(n[f].selector===i.selector){r=n[f];break}if(r===!1)n.push(i);else if(i.type!=="media")for(var s=0;s<i.rules.length;s++){var o=i.rules[s],d=this.findCorrespondingRule(r.rules,o.directive);d===!1?r.rules.push(o):o.type=="DELETED"?d.type="DELETED":d.value=o.value}else r.subStyles=i.subStyles};l.prototype.compactRules=function(n){for(var i=[],e=0;e<n.length;e++)n[e].type!=="DELETED"&&i.push(n[e]);return i};l.prototype.getCSSForEditor=function(n,i){i===void 0&&(i=0);var e="";n===void 0&&(n=this.css);for(var t=0;t<n.length;t++)n[t].type=="imports"&&(e+=n[t].styles+`

`);for(t=0;t<n.length;t++){var r=n[t];if(r.selector!==void 0){var a="";r.comments!==void 0&&(a=r.comments+`
`),r.type=="media"?(e+=a+r.selector+`{
`,e+=this.getCSSForEditor(r.subStyles,i+1),e+=`}

`):r.type!=="keyframes"&&r.type!=="imports"&&(e+=this.getSpaces(i)+a+r.selector+` {
`,e+=this.getCSSOfRules(r.rules,i+1),e+=this.getSpaces(i)+`}

`)}}for(t=0;t<n.length;t++)n[t].type=="keyframes"&&(e+=n[t].styles+`

`);return e};l.prototype.getImports=function(n){for(var i=[],e=0;e<n.length;e++)n[e].type=="imports"&&i.push(n[e].styles);return i};l.prototype.getCSSOfRules=function(n,i){for(var e="",t=0;t<n.length;t++)n[t]!==void 0&&(n[t].defective===void 0?e+=this.getSpaces(i)+n[t].directive+" : "+n[t].value+`;
`:e+=this.getSpaces(i)+n[t].value+`;
`);return e||`
`};l.prototype.getSpaces=function(n){for(var i="",e=0;e<n*4;e++)i+=" ";return i};l.prototype.applyNamespacing=function(n,i){var e=n,t="."+this.cssPreviewNamespace;i!==void 0&&(t=i),typeof n=="string"&&(e=this.parseCSS(n));for(var r=0;r<e.length;r++){var a=e[r];if(!(a.selector.indexOf("@font-face")>-1||a.selector.indexOf("keyframes")>-1||a.selector.indexOf("@import")>-1||a.selector.indexOf(".form-all")>-1||a.selector.indexOf("#stage")>-1))if(a.type!=="media"){for(var f=a.selector.split(","),s=[],o=0;o<f.length;o++)f[o].indexOf(".supernova")===-1?s.push(t+" "+f[o]):s.push(f[o]);a.selector=s.join(",")}else a.subStyles=this.applyNamespacing(a.subStyles,i)}return e};l.prototype.clearNamespacing=function(n,i){i===void 0&&(i=!1);var e=n,t="."+this.cssPreviewNamespace;typeof n=="string"&&(e=this.parseCSS(n));for(var r=0;r<e.length;r++){var a=e[r];if(a.type!=="media"){for(var f=a.selector.split(","),s=[],o=0;o<f.length;o++)s.push(f[o].split(t+" ").join(""));a.selector=s.join(",")}else a.subStyles=this.clearNamespacing(a.subStyles,!0)}return i===!1?this.getCSSForEditor(e):e};l.prototype.createStyleElement=function(n,i,e){if(e===void 0&&(e=!1),this.testMode===!1&&e!=="nonamespace"&&(i=this.applyNamespacing(i)),typeof i!="string"&&(i=this.getCSSForEditor(i)),e===!0&&(i=this.getCSSForEditor(this.parseCSS(i))),this.testMode!==!1)return this.testMode("create style #"+n,i);var t=document.getElementById(n);t&&t.parentNode.removeChild(t);var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.id=n,a.type="text/css",r.appendChild(a),a.styleSheet&&!a.sheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i))};var pe=l;var Ce=new RegExp(`{${D}:[^{}]+}`,"g"),ge={Sin:"return Math.round(1000*Math.sin(time/5000));",Cos:"return Math.round(1000*Math.cos(time/5000));",Random:`var value = prevValue + Math.random() * 100 - 50;
var multiplier = Math.pow(10, 2 || 0);
var value = Math.round(value * multiplier) / multiplier;
if (value < -1000) {
	value = -1000;
} else if (value > 1000) {
	value = 1000;
}
return value;`},ye=[];for(let n of Object.keys(ge))ye.push(n);var me=[p.createdTime.keyName,p.originator.keyName,p.type.keyName,p.severity.keyName,p.status.keyName],rt=(()=>{class n{constructor(e,t,r,a,f){this.window=e,this.document=t,this.zone=r,this.datePipe=a,this.translate=f,this.iframeMode=!1,this.widgetEditMode=!1,this.editWidgetInfo=null,this.defaultDataKey={name:"f(x)",type:C.function,label:"Sin",color:this.getMaterialColor(0),funcBody:this.getPredefinedFunctionBody("Sin"),settings:{},_hash:Math.random()},this.defaultDatasource={type:P.function,name:P.function,dataKeys:[v(this.defaultDataKey)]},this.defaultAlarmDataKeys=[];let s=null;try{s=e.frameElement}catch{}if(s){this.iframeMode=!0;let o=s.getAttribute("data-widget");o&&o.length&&(this.editWidgetInfo=JSON.parse(o),this.widgetEditMode=!0)}}getPredefinedFunctionsList(){return ye}getPredefinedFunctionBody(e){return ge[e]}getDefaultDatasource(e){let t=v(this.defaultDatasource);return b(e)&&(t.dataKeys[0].settings=this.generateObjectFromJsonSchema(e)),t}initDefaultAlarmDataKeys(){for(let e=0;e<me.length;e++){let t=me[e],r={name:t,type:C.alarm,label:this.translate.instant(p[t].name),color:this.getMaterialColor(e),settings:{},_hash:Math.random()};this.defaultAlarmDataKeys.push(r)}}getDefaultAlarmDataKeys(){return this.defaultAlarmDataKeys.length||this.initDefaultAlarmDataKeys(),v(this.defaultAlarmDataKeys)}defaultAlarmFieldContent(e,t){if(b(t)){let r=p[e.name];if(r){if(r.time)return t?this.datePipe.transform(t,"yyyy-MM-dd HH:mm:ss"):"";if(r===p.severity)return this.translate.instant(fe.get(t));if(r===p.status)return M.get(t)?this.translate.instant(M.get(t)):t;if(r===p.originatorType)return this.translate.instant(q.get(t).type);if(r.value===p.assignee.value)return""}return t}return""}generateObjectFromJsonSchema(e){let t=(0,he.default)(e);return Y(t),t}processWidgetException(e){let t=this.parseException(e,-6);if(t.message?.startsWith("NG0")&&(t.message=`${this.translate.instant("widget.widget-template-error")}<br/>
                       <br/><i>${this.translate.instant("dialog.error-message-title")}</i><br/><br/>${t.message}`),this.widgetEditMode){let r={type:"widgetException",data:t};this.window.parent.postMessage(JSON.stringify(r),"*")}return t}parseException(e,t){let r={};if(e){if(typeof e=="string")r.message=e;else if(e instanceof String)r.message=e.toString();else if(e.name?r.name=e.name:r.name="UnknownError",e.message&&(r.message=e.message),e.lineNumber)r.lineNumber=e.lineNumber,e.columnNumber&&(r.columnNumber=e.columnNumber);else if(e.stack){let f=/(.*<anonymous>):(\d*)(:)?(\d*)?/g.exec(e.stack);f!=null&&f.length>=3&&(N(t)&&(t=-2),r.lineNumber=Number(f[2])+t,f.length>=5&&(r.columnNumber=Number(f[4])))}}return r}customTranslation(e,t){if(e&&z(e))if(e.includes(`{${D}`)){let r=e.match(Ce),a=e;for(let f of r){let s=f.substring(6,f.length-1);a=a.replace(f,this.doTranslate(s,f))}return a}else return this.doTranslate(e,t,G);else return e}doTranslate(e,t,r){let a,f;r?f=r+e:f=e;let s=this.translate.instant(f);return s!==f?a=s+"":a=t,a}guid(){return T()}getMaterialColor(e){let t=e%w.length;return w[t].value}createKey(e,t,r=-1){let a;if(t===C.alarm&&!e.label){let s=p[e.name];s&&(a=this.translate.instant(s.name))}a||(a=e.label||e.name);let f={name:e.name,type:t,label:a,funcBody:e.funcBody,settings:{},_hash:Math.random()};return e.units&&(f.units=e.units),b(e.decimals)&&(f.decimals=e.decimals),e.color?f.color=e.color:r>-1&&(f.color=this.getMaterialColor(r)),e.postFuncBody&&e.postFuncBody.length&&(f.usePostProcessing=!0,f.postFuncBody=e.postFuncBody),f}createLabelFromDatasource(e,t){return re(e,t)}generateColors(e){let t=0;e.forEach(r=>{r.dataKeys.forEach(a=>{a.color||(a.color=this.getMaterialColor(t)),t++})})}stringToHslColor(e,t,r){if(e&&e.length)return`hsl(${te(e)%360}, ${t}%, ${r}%)`}currentPerfTime(){return this.window.performance&&this.window.performance.now?this.window.performance.now():Date.now()}getQueryParam(e,t=this.window.location.href){e=e.replace(/[\[\]]/g,"\\$&");let a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}removeQueryParams(e){let t=this.window.location.search;for(let a of e)t=this.updateUrlQueryString(t,a,null);let r=[E(),this.window.location.pathname].join("");this.window.history.replaceState({},"",r+t)}updateQueryParam(e,t){let r=[E(),this.window.location.pathname].join(""),a=this.window.location.search,f=this.updateUrlQueryString(a,e,t);this.window.history.replaceState({},"",r+f)}updateUrlQueryString(e,t,r){let a="",f="";if(r!==null&&(a=t+"="+r),e){let s=new RegExp("([?&])"+t+"[^&]*");e.match(s)!==null?(a&&(a="$1"+a),f=e.replace(s,a),f.startsWith("&")&&(f="?"+f.substring(1))):a&&(f=e+"&"+a)}else a&&(f="?"+a);return f}baseUrl(){return E()}deepClone(e,t){return v(e,t)}isUndefined(e){return N(e)}isDefined(e){return b(e)}isDefinedAndNotNull(e){return R(e)}defaultValue(e,t){return R(e)?e:t}getEntityIdFromDatasource(e){return{id:e.entityId,entityType:e.entityType}}subscribeToEntityTelemetry(e,t,r=ae.LATEST_TELEMETRY,a=null){!t&&e.datasources.length>0&&(t=this.getEntityIdFromDatasource(e.datasources[0]));let f=ie.createEntityAttributesSubscription(e.telemetryWsService,t,r,e.ngZone,a);return e.telemetrySubscribers||(e.telemetrySubscribers=[]),e.telemetrySubscribers.push(f),f.subscribe(),f.attributeData$.pipe(L(1),O())}objToBase64(e){return X(e)}base64toString(e){return V(e)}objToBase64URI(e){return j(e)}base64toObj(e){return ee(e)}applyCssToElement(e,t,r,a){let f=new pe;f.testMode=!1;let s=`${r}-${T()}`;return f.cssPreviewNamespace=s,f.createStyleElement(s,a),e.addClass(t,s),s}clearCssElement(e,t,r){r&&e.removeClass(r,t);let a=this.document.getElementById(t);a&&a.parentNode.removeChild(a)}static{this.\u0275fac=function(t){return new(t||n)(y(F),y(H),y(J),y(_),y(ne))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{F as a,S as b,Ae as c,we as d,xe as e,Ee as f,Te as g,oe as h,w as i,pe as j,rt as k};
